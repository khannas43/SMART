1.	Citizen Facing Portal
The Citizen Portal is designed to address the complexities and fragmentation in accessing government welfare schemes, social benefits, and citizen services. Traditionally, citizens faced numerous challenges including the need to navigate multiple websites, inconsistent eligibility checks, complex application forms, repeated document submissions, poor visibility into scheme status, and lack of consolidated personal records.
Problems Solved by the Citizen Portal:
â€¢	Eliminates the need for citizens to visit several portals or departments to discover, apply for, and monitor government schemes and benefits.
â€¢	Resolves issues of duplicate document requests and manual verification.
â€¢	Simplifies consent management and reduces confusion over data usage and privacy.
â€¢	Addresses poor visibility into overall benefits and family eligibility.
â€¢	Tackles notification and communication gaps regarding scheme changes, payments, and deadlines.
How the Portal Solves These Problems:
â€¢	Provides a unified, authenticated gateway (Jan Aadhaar, Raj SSO, MFA) for all eligible citizens, powered by secure login and profile management.image.jpg
â€¢	Delivers AI-driven scheme discovery, eligibility prediction, and personalized recommendations, so citizens see only relevant options and know why they're eligible or ineligible.
â€¢	Offers consent-driven applications, profile and document management, and transparent status tracking so citizens control their participation and data sharing for schemes.
â€¢	Aggregates citizen and family benefits into an intuitive dashboard, showing real-time status, history, and forecasting tools so users understand their entitlements fully.
â€¢	Enables fast communication, notifications, and help/support, with multi-language and accessibility features for maximum inclusion.
â€¢	Incorporates security, regulatory validations, error handling, and audit logging throughout all major workflows.
By centralizing discovery, application, status monitoring, documentation, notifications, support, and analytics, the portal transforms fragmented government processes into an integrated digital experience that is efficient, transparent, and user-centric.
I.	List of Screens for Citizen-Facing Portal

Module Name	Screen ID	Screen Name	Access	Notes
Authentication & Profile	CIT-AUTH-01	Unified Login & SSO	Public	Jan Aadhaar OTP + Raj SSO in single tabbed interface
Authentication & Profile	CIT-AUTH-02	MFA & Security Challenge	Authenticated	OTP/TOTP/biometric verification for sensitive actions
Authentication & Profile	CIT-PROF-03	Profile Dashboard & 360Â° view	Authenticated	Golden Record + family graph with ML confidence badges
Authentication & Profile	CIT-PROF-04	Profile Edit & Verification	Authenticated	Edit attributes + source selection + verification status
Schemes	CIT-SCHEME-05	Scheme Catalog & Search	Authenticated	Browse + AI recommendations + compare up to 3 schemes
Schemes	CIT-SCHEME-06	Scheme Details	Authenticated	Eligibility info + benefits + apply + related schemes
Schemes	CIT-SCHEME-07	Eligibility & Recommendations	Authenticated	Questionnaire + live eligible/ recommended schemes list
Consent & Applications	CIT-CONSENT-08	Consent & Clarifications	Authenticated	Scheme consents + app clarification responses
Consent & Applications	CIT-APP-09	Applications Hub	Authenticated	Active tracking + historical applications unified view
Documents	CIT-DOC-10	Document Center	Authenticated	Upload/library/ signed/ eVault/downloads unified hub
Benefits	CIT-BEN-11	Benefits & Entitlements	Authenticated	Current/family/history/forecast unified timeline
Benefits	CIT-BEN-12	Payments & Ledger	Authenticated	DBT transactions + monthly/yearly summaries
Service Delivery	CIT-SERV-13	Service Catalog	Authenticated	Browse government services by category
Service Delivery	CIT-SERV-14	Service Request	Authenticated	Multi-step service request form + uploads
Service Delivery	CIT-SERV-15	Service Status & Feedback	Authenticated	Request tracking + inline feedback ratings
Settings	CIT-USER-16	Notification Preferences	Authenticated	Email/SMS/app alerts + quiet hours
Settings	CIT-USER-17	Opt-Out Schemes	Authenticated	Scheme participation opt-out with impact preview
Settings	CIT-USER-18	Account & Security Settings	Authenticated	Profile/password/MFA/sessions unified hub
Help & Support	CIT-HELP-19	Help & Support Hub	Public	FAQs + search + announcements + basic tickets
Help & Support	CIT-HELP-20	Tickets & Status	Authenticated	Ticket timeline + agent communication + feedback

II.	Module 1: Authentication & Profile
Screen 1: Unified Login & SSO
Screen ID: CIT-AUTH-01
User Type: Citizen
Purpose: Provide unified secure authentication via Jan Aadhaar OTP or Raj SSO with seamless session creation and identity unification.
Functional Description
Primary Layout (Single Screen):
â€¢	Top Section: Branding + Portal Title + Multi-language selector
â€¢	Center Section: Tabbed Authentication Options:
Tab 1: "Jan Aadhaar Login"	Tab 2: "Raj SSO Login"
â€¢	Jan Aadhaar ID input
â€¢	"Send OTP" button
â€¢	OTP input (auto-fill)
â€¢	Resend timer (60s)
â€¢	"Login" button (OTP validated)
â€¢	Biometric option (if supported)	â€¢	"Login with Raj SSO" prominent button
â€¢	Loading spinner during redirect
â€¢	Post-redirect: Profile summary + "Link to Jan Aadhaar" option
â€¢	Bottom Section: Help links ("Forgot Jan Aadhaar?", "Need Help?", Helpline)
â€¢	Success State: Full-screen redirect to CIT-PROF-04 (Profile Dashboard)

â€¢	State Flows:
Public â†’ Jan Aadhaar Tab â†’ OTP Verified â†’ [Optional MFA] â†’ Profile Dashboard
     â†“
Public â†’ Raj SSO Tab â†’ External Redirect â†’ Callback â†’ Profile Summary â†’ [Link Jan Aadhaar] â†’ Profile Dashboard
Business Rules & Validations
â€¢	Jan Aadhaar Flow:
o	Jan Aadhaar ID mandatory, 12-digit format validation (regex: ^\d{12}$)
o	OTP valid 5 minutes; max 3 resends/hour per IP/device
o	Account lockout after 5 failed logins (30 min configurable)
o	Capture IP, User-Agent, device fingerprint for audit

â€¢	Raj SSO Flow:
o	OAuth 2.0/SAML token exchange with Raj SSO (PKCE for SPA security)
o	Token expiry validation + auto-refresh per Raj SSO specs
o	Session consistency: SSO session â†’ Portal JWT (max-age 8h)

â€¢	Unified Rules:
o	Both flows trigger optional MFA (CIT-AUTH-03) for sensitive actions
o	Post-login role determination from Golden Record/profile service
o	Account linking: Raj SSO â†’ Jan Aadhaar creates unified identity in profile360
Data Inputs
Source	Data Elements
User Input	Jan Aadhaar ID, OTP code
Raj SSO	id_token, access_token, user claims (name, mobile, role hints)
Device	Biometrics (WebAuthn), geolocation (optional)
Backend	OTP verification response, Jan Aadhaar validation, token refresh status
Data Outputs
Target	Data Elements
Session	JWT token, refresh_token, user_profile (minimal)
Profile Service	Unified identity record (Jan Aadhaar â†” Raj SSO link)
Audit Log	login_method, ip_address, device_fingerprint, success/failure
User	Welcome message, profile summary (post-SSO)
Integration Points
 
Core Integrations:
1.	Jan Aadhaar Authentication Service (OTP generation/verification)
2.	Raj SSO Service (OAuth 2.0 token exchange)
3.	User Profile Microservice (Golden Record sync, identity linking)
4.	Security & Audit Logging (all auth events)
5.	MFA Service (step-up authentication)
RBAC & Access Control
Access Level	Jan Aadhaar Tab	Raj SSO Tab
Public	Full access	Full access
Authenticated	N/A (pre-auth)	N/A (pre-auth)
Post-Login	Role-based dashboard redirect	Role-based dashboard redirect
Error Handling & Messaging
Scenario	Message	Action
Invalid Jan Aadhaar	"Please enter valid 12-digit Jan Aadhaar ID"	Shake input + focus
OTP Expired	"OTP expired. Resend new OTP?" [60s timer]	Enable resend
SSO Cancelled	"Login cancelled. Choose another method?"	Show both tabs
Token Invalid	"SSO session expired. Login again?"	Retry SSO button
Rate Limited	"Too many attempts. Try after 30 min"	CAPTCHA + countdown
Network Error	"Connection issue. Check internet?"	Retry all buttons
Note: CAPTCHA Trigger: 3+ failed attempts or suspicious IP/device
Accessibility & Usability
â€¢	WCAG 2.1 AA compliant
â€¢	Keyboard navigation: Tab between tabs â†’ inputs â†’ buttons
â€¢	Screen reader: ARIA labels for tabs, live regions for messages/timers
â€¢	Multi-language: Hindi, English, Rajasthani (RTL support)
â€¢	Responsive: Mobile-first (stacked tabs on <768px)
â€¢	High contrast mode + reduced motion support
Functional Tests:
â€¢	Jan Aadhaar flow: ID â†’ OTP â†’ Login â†’ Dashboard
â€¢	Raj SSO flow: Button â†’ Redirect â†’ Callback â†’ Profile
â€¢	Account linking: SSO â†’ Link Jan Aadhaar â†’ Unified profile
â€¢	Error scenarios: Invalid ID/OTP, expired tokens, network fail
Security Tests:
â€¢	Brute force protection (lockout, rate limiting)
â€¢	Token validation (SSO replay attacks)
â€¢	Device fingerprint consistency
â€¢	XSS/CSRF protection on callback
Performance Tests:
â€¢	<2s OTP delivery
â€¢	<500ms SSO callback processing
â€¢	âœ“ Session creation <1s

Screen 2: MFA Verification
Screen ID: CIT-AUTH-02
User Type: Citizen
Purpose: Provide an additional layer of security through multi-factor authentication during login or sensitive transactions.
Functional Description:
â€¢	Prompt user to complete MFA after successful primary authentication (Jan Aadhaar or Raj SSO).
â€¢	Support multiple MFA methods:
o	OTP via SMS or email
o	Time-based One-Time Password (TOTP) apps (Google Authenticator, etc.)
o	Biometric verification (fingerprint, facial recognition) if device supports
â€¢	Input fields to enter OTP or scan biometric for verification.
â€¢	Support retry and resend OTP options with cooldown timers.
â€¢	Clearly indicate success or failure and guide next steps accordingly.
Business Rules & Validations:
â€¢	Enforce MFA based on configured security policies (mandatory for certain actions).
â€¢	OTP validity limited duration (e.g., 5 minutes).
â€¢	Limit OTP resend attempts to prevent abuse.
â€¢	Biometric verification requires compatible device and secure capture.
â€¢	Log all MFA attempts with success/failure status for audit.
Data Inputs:
â€¢	OTP codes generated and verified by backend MFA service.
â€¢	Biometric authentication data from device hardware/software.
Data Outputs:
â€¢	MFA verification result to authentication/session manager.
â€¢	Audit logs for MFA events.
Integration Points:
â€¢	Backend MFA Service for OTP generation and validation.
â€¢	Device biometric APIs.
RBAC:
â€¢	Enforced post-primary authentication for all eligible users.
Error Handling & Messaging:
â€¢	Inform users of invalid or expired OTPs.
â€¢	Provide clear error messages and help links for biometric failures.
Accessibility & Usability:
â€¢	Support accessible input controls for OTP entry.
â€¢	Provide alternate MFA methods when biometrics unavailable.
Testability:
â€¢	Validate OTP delivery, expiry, and verification.
â€¢	Test biometric capture and verification flows.
â€¢	Security testing for fraud prevention.
Screen 3: Profile Dashboard & 360Â° View
Screen ID: CIT-PROF-03
User Type: Citizen
Purpose: Deliver comprehensive Golden Record dashboard with summary insights, interactive 360Â° family network visualization, ML confidence transparency, benefit aggregation, and one-click profile actionsâ€”all in a single unified view.

Functional Description
â€¢	Primary Layout (Tabbed Single Screen):

Tab 1: Summary	Tab 2: 360o View
â€¢	Key Details
â€¢	Alerts
â€¢	Benefits
â€¢	Notifications
â€¢	Quick CTAs	â€¢	Interactive Family Graph (Neo4j)       
â€¢	3-Level Network + Confidence Edges
â€¢	Scheme Aggregation Sankey
â€¢	Consent Controls
â€¢	GR Change Timeline                     

â€¢	Summary Tab (Compact Dashboard):
o	Personal details + confidence badges (Green/Yellow/Red)
o	Family snapshot carousel (3-5 members, clickable â†’ 360Â° tab)
o	Active schemes pie chart + predicted entitlements
o	Profile alerts + ML nudges
o	4 prominent CTAs: "Edit Profile", "AI Eligibility", "Verify Data", "View 360Â° Profile" (switches tab)
â€¢	360Â° View Tab (Deep Analytics):
o	Full Golden Record attributes + per-field source badges
o	Interactive graph: 3-level family tree (vis.js/D3) with node popovers
o	Family benefit Sankey + overlap analysis
o	Consent toggles + GR audit timeline
o	"Add Family" + ML-suggested relations
â€¢	Real-time Features:
o	WebSocket updates for GR changes, new alerts, benefit status
o	Hover tooltips: "DOB confidence 95% from Passport+UIDAI"
Business Rules & Validations
â€¢	Unified Data Rules:
o	Real-time sync from Golden Record API (5min poll + Kafka CDC events)
o	Confidence thresholds: Green â‰¥95%, Yellow 80-95%, Red <80%
o	Family display: 1st-degree auto, 2nd/3rd-degree consent-gated
o	Masking: Income "â‚¹XX,XXX", full view requires explicit consent
o	Graph validation: No cycles, age inversion detection via ML
â€¢	Tab-Specific Rules:
Summary Tab	360Â° Tab
Load <2s, cached OK	Load <3s, WebGL viz
1st-degree family only	3-level + ML suggestions
Aggregated benefits	Individual + family breakdowns
Masked sensitive data	Consent-gated full view
Offline Support: PWA cache (24h TTL) with staleness indicator
Data Inputs
API Endpoint	Tab Usage	Data Elements
GET /golden-record/{gr_id}?summary=true	Summary	Core attributes + confidence metadata
GET /golden-record/{gr_id}?depth=3	360Â°	Full profile + 3-level family graph
GET /family-graph/{gr_id}?include_predictions=true	360Â°	ML-suggested relations + edges
GET /benefits/family/{gr_id}	Both	Active/pending schemes + predictions
WebSocket /notifications/{gr_id}	Both	Real-time nudges + GR updates
Data Outputs
Target	Events/Actions
Golden Record	POST /golden-record/{id}/consent, POST /family-corrections/{gr_id}
Analytics	Profile views, tab switches, node clicks, consent changes
Audit Log	All GR interactions with timestamps + confidence deltas
Integration Points
 
Core Services:
1.	Golden Record FastAPI (AI-PLATFORM-01) - Primary data source
2.	Neo4j Family Graph - Network visualization + ML relations
3.	Benefits Microservice - Scheme aggregation + predictions
4.	Kafka CDC - Real-time GR â†’ UI sync
5.	Consent Microservice - Granular data sharing controls
RBAC & Access Control
Role	Summary Tab	360Â° Tab
Citizen	Own GR + 1st-degree family	Own GR + consented family subtree
Family Head	Full family summary	Full consented family network
Guest	Masked public info only	Access denied
Error Handling & Messaging
Scenario	Message	Fallback
GR Unavailable	"Profile syncing... Last update: 2h ago"	Cached view + refresh button
Graph Render Fail	"Using text family list"	Collapsible text hierarchy
Partial Consent	"3/5 family members consented"	Mask non-consented nodes
Low Confidence	"DOB needs verification [Select best source]"	Source picker modal
Network Fail	"Offline mode active"	PWA sync queue
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA tabs + live regions for real-time updates
o	Keyboard nav: Tab tree nodes, arrow keys for graph pan/zoom
o	Screen reader: "Node: Father [Ram, 65y, 92% confidence, 2 schemes]"
o	SVG alt text + focus outlines on confidence badges
â€¢	Mobile-First:
o	<768px: Summary tab = carousel, 360Â° tab = radial tree + swipe
o	>768px: Side-by-side tabs with full graph viz
â€¢	Performance:
o	Summary tab: <2s load (cached)
o	360Â° tab: <3s load (1K nodes), <100ms WebSocket updates
Testability Requirements
â€¢	Functional E2E Tests:
o	Summary â†’ 360Â° tab switch preserves state
o	Family node click â†’ popover â†’ GR update â†’ real-time refresh
o	Consent toggle â†’ assert data masking in both tabs
o	Offline â†’ online sync â†’ assert update propagation
o	ML nudge click â†’ AI Eligibility Checker navigation
â€¢	AI/ML Tests:
o	Confidence badge colors match thresholds (95/80/<80)
o	Graph edge colors match relation confidence
o	Suggested relations â†’ verification workflow
o	Benefit predictions update on GR changes
â€¢	Load/Performance:
o	10K concurrent citizens: <2s Summary tab
o	1K node family graphs: <3s render
o	WebSocket: 100 updates/sec without lag

Screen 4: Profile Edit & Verification
Screen ID: CIT-PROF-04
User Type: Citizen
Purpose: Unified workspace for editing Golden Record attributes, viewing verification statuses, managing source consents, and previewing ML confidence impactsâ€”all in one screen with real-time validation and workflow guidance.

Functional Description
â€¢	Primary Layout (Tabbed Single Screen):

Tab 1: Edit	Tab 2: Verification
â€¢	Editable
â€¢	Fields + Confidence
â€¢	ML Source Selector
â€¢	Doc Upload
â€¢	Preview/Save  	â€¢	Status Dashboard (Green/Yellow/Red)
â€¢	Source Attribution + Confidence
â€¢	Progress Bar + Expiry Alerts
â€¢	One-Click Edit Links â†’ Edit Tab
â€¢	Consent Toggles

â€¢	Edit Tab (Action-Oriented):
o	Editable Golden Record fields with inline confidence badges
o	ML Source Selector dropdowns for conflicted attributes
o	Document upload + OCR auto-extract proposals
o	Real-time confidence preview: "New confidence: 98% â†‘+6%"
o	Save/Preview/Reset buttons + consent matrix
â€¢	Verification Tab (Status Dashboard):
o	Attribute table: Status (Verified/Pending/Rejected) + confidence scores
o	Source badges (UIDAI/Passport/Manual) + verification timestamps
o	Overall progress bar + expiry alerts
o	One-click "Edit This Field" â†’ switches to Edit tab with field pre-focused
o	Consent toggles per attribute/source
â€¢	Unified Features:
o	Real-time validation across both tabs
o	WebSocket updates for verification status changes
o	Mobile stepper: Edit â†’ Preview â†’ Consent â†’ Save
Business Rules & Validations
â€¢	Unified Validation Rules:
Field Type	Edit Requirements	Verification Display
Basic (Name, Mobile)	Format validation	â‰¥80% confidence
Sensitive (DOB, Income)	2+ sources OR document	OTP-gated changes
Policy (Aadhaar ID)	Edit locked	Admin-only
Address	PIN validation + ML staleness	Expiry warnings
â€¢	Core Rules:
o	Partial saves flagged in GR metadata; full save â†’ ML reconciliation
o	Changes versioned: {old_value, new_value, source, confidence_delta}
o	Verification statuses update via Kafka events (<30s latency)
o	DPDP consent: Explicit opt-in per source; revocable with impact preview
Data Inputs
API Endpoint	Tab Usage	Data Elements
GET /golden-record/{gr_id}?editable=true	Edit	Current attrs + conflicts/sources
GET /verification-status/{gr_id}	Verification	Statuses, timestamps, confidence
POST /document/ocr-extract	Edit	Extracted fields + ML scores
POST /ai-reconcile/preview	Edit	Simulated confidence delta
WebSocket /profile-updates/{gr_id}	Both	Real-time status + GR changes
Data Outputs
Target	Events/Actions
Golden Record	PATCH /golden-record/{gr_id}, POST /family-corrections
Verification Services	Document submissions, re-verification triggers
Consent Service	Per-attribute/source consent updates
Audit Log	Versioned diffs + confidence changes
Integration Points
 
Core Services:
1.	Golden Record FastAPI - Edit + reconciliation
2.	Document OCR Service - Auto-extraction + proposals
3.	Multiple Verifiers - UIDAI, Passport, Utilities
4.	Consent Service - Granular DPDP controls
5.	Kafka Events - Real-time status sync
RBAC & Access Control
Role	Edit Tab	Verification Tab
Citizen	Own GR (OTP for sensitive)	Own profile + consented family
Family Head	Shared fields (consent)	Full consented family statuses
Admin	Emergency override	View-only assistance
Error Handling & Messaging
Scenario	Message	Action
Validation Fail	"Invalid PIN: Expected 6 digits"	Inline shake + focus
Low Confidence	"DOB conflicts 3 sources - select best"	Source selector dropdown
Save Conflict	"Reconciliation in progress (ID:gr-123)"	Refresh in 30s
Doc Rejected	"Low OCR confidence (65%) - clearer scan"	Retry upload
Verifier Down	"UIDAI temporarily unreachable"	Show cached status
Consent Revoke	"Revoking Passport â†’ Confidence -12%"	Confirmation modal
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live regions: "Confidence updated to 98%", "Verification complete"
o	Keyboard: Tab order = logical flow, Enter = Save, Esc = Cancel
o	Color + icons: Green check/Yellow clock/Red X + text equivalents
o	Screen reader: "DOB field: Pending verification [85% confidence from Aadhaar]"

â€¢	Mobile Stepper (<768px):
Step 1: Edit Fields â†’ Step 2: Review Sources â†’ Step 3: Consent â†’ Step 4: Save
Desktop Tabs (>768px): Side-by-side Edit + Verification panels
Testability Requirements
â€¢	Functional E2E Tests:
o	Edit DOB â†’ Source selection â†’ Preview confidence â†‘ â†’ Save â†’ Verification tab shows update
o	Upload document â†’ OCR extract â†’ Auto-populate fields â†’ Save â†’ Status â†’ Pendingâ†’Verified
o	Consent toggle â†’ Edit tab hides fields â†’ Verification shows masked data
o	Offline edit â†’ Online sync â†’ GR update propagates to CIT-PROF-04
â€¢	AI/ML Tests:
o	Source selector: Assert confidence delta calculations
o	OCR extraction: Mock document â†’ Extracted fields match
o	Real-time: Verification status change â†’ Both tabs update <2s
â€¢	Load/Performance:
o	5K concurrent edits: ML inference <500ms
o	Document upload: <3s OCR processing
o	WebSocket: 100 status updates/sec

III.	Module 2: Schemes
Screen 5: Scheme Catalog & Search 
Screen ID: CIT-SCHEME-05
User Type: Citizen
Purpose: Unified scheme discovery screen combining browsing, advanced search, filtering, AI recommendations, comparison, and sortingâ€”all in a single intuitive interface without tabs.

Functional Description
â€¢	Single Unified Layout (No Tabs):
[Search Bar + Autocomplete]       [Saved Filters]
[Filter Panel]
Category  
Department
Benefit Type
Location
[Apply Filters]	[Sort â–¼]
Popularity
Relevance
Latest
Expiry Date
[Clear All]	AI Recommendations
â€¢	Scheme X (92% match)
â€¢	Scheme Y (85%)
[Scheme Results Grid/List]    [Compare Panel (up to 3 schemes)]
â€¢	Scheme Card 1 [â˜… Recommended] â†’ Details/Apply
â€¢	Scheme Card 2                                 â†’ [X]
â€¢	Scheme Card 3                                 â†’ [X]
â€¢	(Pagination + Total: 1,247 schemes)
â€¢	Key Integrated Features:
o	Persistent Search Bar (top): Autocomplete + keyword search
o	Collapsible Filter Panel (left): Multi-select category/department/benefit/location
o	AI Recommendations (top-right): Profile-matched schemes with match scores
o	Dynamic Results (center): Cards with highlights, real-time filter updates
o	Compare Panel (right): Drag/drop up to 3 schemes for side-by-side eligibility/benefit view
o	Saved Filters (dropdown): "My Recent Filters" + "Popular Filters"
Business Rules & Validations
â€¢	Unified Discovery Rules:
o	Real-time results update on filter/search changes (debounced 300ms)
o	Show only schemes matching citizen profile/location/consent
o	AI recommendations: â‰¥80% profile match, updated daily via ML batch job
o	Compare limit: Max 3 schemes; auto-remove lowest relevance on overflow
o	Personalization: Prioritize schemes where citizen has â‰¥90% eligibility probability
â€¢	Search & Filter Logic:
o	Search: Exact â†’ Partial â†’ Synonym â†’ AI Semantic Match
o	Filters: AND between categories, OR within multi-select
o	Sort: Stable across search/filter changes
Data Inputs
API Endpoint	Usage	Data Elements
GET /schemes?search={q}&filters=
{json}&sort={field}&page={n}&limit=20	Results	Scheme cards + metadata + eligibility hints
GET /schemes/ai-recommendations/{gr_id}?limit=5	Recommendations	Profile-matched schemes + confidence scores
GET /user/filters/{session_id}	Saved Filters	Recent + popular filter sets
POST /schemes/compare	Compare Panel	Side-by-side eligibility/benefit analysis
Data Outputs
Target	Events/Actions
Analytics	Search queries, filter usage, compare selections, scheme clicks
Session	Saved filter preferences (localStorage + backend sync)
Navigation	Scheme details (CIT-SCHEME-08), Apply flow
Integration Points
 
â€¢	Core Services:
1.	Scheme Catalog - Elasticsearch + relational metadata
2.	AI Recommendation Engine - Profile-based scheme matching
3.	Profile Service - Location/consent filtering
4.	Search Index - Synonym expansion + relevance ranking
RBAC & Access Control
Access	Features Available
Authenticated Citizen	Full catalog + personalization + compare
Guest	Basic browse (no AI recs, limited filters)
Error Handling & Messaging
Scenario	Message	Action
No Results	"No schemes match your filters. Try: [Broader category]"	Suggest popular filters
Search Error	"Search temporarily unavailable. Showing popular schemes"	Fallback to curated list
AI Reco Fail	"Recommendations loading..."	Progressive enhancement
Too Many Compares	"Max 3 schemes. Remove one to add [Scheme X]"	Highlight overflow scheme
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	Keyboard: Arrow keys for results navigation, Enter = View Details
o	ARIA: Live region for result count "Showing 1-20 of 1,247 schemes"
o	Screen reader: "Scheme: PM Awas Yojana [Recommended, 92% match]"
o	Focus: Clear filter chips, sort dropdown, compare panel management
â€¢	Responsive Breakpoints:
o	<480px: Vertical stack (Search â†’ Filters â†’ Results)
o	480-1024px: Filter sidebar + results
o	>1024px: 3-column (Filters + Results + Compare)
â€¢	Mobile Gestures:
o	Swipe left/right: Compare panel toggle
o	Long press scheme card: Quick compare add
Testability Requirements
â€¢	Functional E2E Tests:
o	Search "housing" â†’ Autocomplete â†’ Results â†’ Filter "Rajasthan" â†’ Results update
o	Drag Scheme A,B,C â†’ Compare panel â†’ Eligibility side-by-side
o	AI recs click â†’ Same filtering as manual search
o	Saved filter â†’ Restore â†’ Same results as previous session
â€¢	Performance Tests:
o	<200ms search/filter response
o	<500ms initial catalog load (1K schemes)
o	Infinite scroll: Seamless pagination
â€¢	AI Integration Tests:
o	Profile match scores â†’ Visual highlighting
o	Recommendations respect consent â†’ No masked schemes
o	Semantic search: "free education" â†’ Post-Matric schemes

Screen 6: Scheme Details
Screen ID: CIT-SCHEME-06
User Type: Citizen
Purpose: Provide detailed information about a selected government scheme including eligibility, benefits, required documents, and application process.
Functional Description:
â€¢	Display scheme name, department, and category prominently.
â€¢	Show detailed description covering objectives, benefits, eligibility criteria, and timelines.
â€¢	List required documents with download links or format specifications.
â€¢	Provide FAQs specific to the scheme.
â€¢	Display contact information for scheme helpdesk or officials.
â€¢	Show application status if the citizen has applied previously.
â€¢	Provide â€œApply Nowâ€ button with eligibility check and consent prompts as necessary.
â€¢	Include related scheme suggestions and links.
Business Rules & Validations:
â€¢	Access allowed to authenticated citizens only.
â€¢	Eligibility checks performed before enabling apply actions.
â€¢	Document requirements validated per scheme policies.
â€¢	Display language localized as per user preferences.
Data Inputs:
â€¢	Scheme details API including metadata and documents.
â€¢	User profile and eligibility status.
â€¢	Localization service.
Data Outputs:
â€¢	Application initiation or request for additional action.
â€¢	Navigation to related schemes.
Integration Points:
â€¢	Scheme Management Service.
â€¢	Eligibility and Consent Services.
â€¢	Document Repository and Download APIs.
RBAC:
â€¢	Authenticated citizens with role-based visibility of scheme details.
Error Handling & Messaging:
â€¢	Inform users if scheme details cannot be loaded or applied to.
â€¢	Provide fallback and guidance for eligibility failures.
Accessibility & Usability:
â€¢	Responsive and well-structured layout.
â€¢	Readable fonts and accessible navigation.
Testability:
â€¢	Validate detailed data accuracy and loading.
â€¢	Test eligibility enforcement and apply flow.
â€¢	Verify document download and display.
Screen 7: Eligibility & Recommendation
Screen ID: CIT-SCHEME-7
User Type: Citizen
Purpose: Let citizens answer an adaptive AI questionnaire and immediately see eligible, suggested, and last-check schemes in one unified view, with clear next steps to view details or apply. 

Functional Description
Layout (Single Page, Two Zones):
1.	Top Zone: â€œAnswer a few questionsâ€ (Eligibility Questionnaire)
o	Multi-step, adaptive questions (age, income, family, location, disability, life events, etc.), pre-filled from Golden Record with â€œConfirm / Change just for this checkâ€ options.
o	Progress indicator (e.g., Step 2 of 7), back/next controls, autosave of each step with resume across devices.
o	Consent and data-use banner on first use, with link to profile update if key Golden Record attributes are missing or wrong.
o	Behind the scenes, each answer is sent (debounced) to the AI Eligibility Engine and Auto-ID service to recompute scheme-wise scores in near real time, with a guard on call frequency.
2.	Bottom Zone: â€œYour schemesâ€ (Live Results Panel)
o	Single consolidated scheme list, grouped via inline chips instead of tabs:
ï‚§	Chip filters: Eligible now, Suggested for you, From my last check, All (multi-select chips).
o	Each scheme card shows:
ï‚§	Name, department, short benefit summary.
ï‚§	Status pill: Eligible / Potential / Not eligible, with confidence % and last evaluated timestamp.
ï‚§	Tag for origin: â€œAuto-identifiedâ€, â€œFrom questionnaireâ€, or â€œRecommendedâ€.
ï‚§	â€œWhy shown?â€ link:
ï‚§	Eligible: key drivers (age, location, income, family context).
ï‚§	Suggested: profile/behaviour/similar-user explanation.
ï‚§	CTAs: â€œView detailsâ€, â€œApply nowâ€, â€œTrack applicationâ€ (if in progress), plus bookmark / â€œNot relevantâ€.
o	Sorting and filtering bar above cards: category, department, benefit, life-event tags, recency, priority, amount.
o	Optional inline banner: â€œLast full check run on 28 Dec, 7:45 PM â€“ Run againâ€ if citizen is viewing an older eligibility RunId.
3.	Eligibility Run Handling
o	On â€œFinish questionnaireâ€, the system creates an Eligibility Assessment Run with snapshot of answers, scheme list, scores, and origin labels; the list below is tagged â€œFrom this runâ€.
o	â€œFrom my last checkâ€ chip reloads the latest completed run even in a future session, reusing stored results but clearly showing date/time and offering â€œRefresh with latest dataâ€.
Business Rules & Validations
â€¢	Golden Record values are default; overrides are session-only unless citizen explicitly taps â€œUpdate my profileâ€ (deep link to CIT-PROF-05).
â€¢	Questionnaire branches based on profile gaps, scheme criteria, and model features; if AI or Auto-ID is unavailable, the results panel falls back to rule-only evaluation with a notice.
â€¢	Only schemes active for citizenâ€™s geography and not blocked by consent appear; â€œEligible nowâ€ set requires confidence â‰¥ configured threshold (e.g., 80%) and active status in Scheme Master.
â€¢	Watchlist/bookmarks persist across sessions and devices; â€œNot relevantâ€ feedback feeds recommendation models but does not hide a scheme if it is strictly eligible and mandated to show.
â€¢	Assisted channels (CSC, call centre) can run for a selected family member with explicit consent and full audit.
Data Inputs
â€¢	Questionnaire responses (current run + any resumed draft).
â€¢	Golden Record and 360Â° family profile (demographics, income band, location, vulnerability, benefit history).
â€¢	Scheme rules and master metadata (age, income, geo, category, status).
â€¢	AI Eligibility Engine outputs (scheme-wise scores, reasons, model version) + Auto-ID hints.
â€¢	Past Eligibility Assessment Runs and application history (for â€œFrom my last checkâ€ and status).
Data Outputs
â€¢	Eligibility Assessment Run object with citizen ID, timestamp, answers snapshot, scheme list, eligibility statuses, confidence, explanations, and override flags.
â€¢	Flags for overridden vs Golden Record-based attributes (later used to nudge profile updates).
â€¢	Analytics events: question flows, drop-offs, completion time, clicks on â€œWhy shown?â€, applies, bookmarks, â€œNot relevantâ€.
Integration Points
â€¢	Eligibility Prediction Engine (AI PLATFORM 08) for scoring and explanations.
â€¢	Auto Identification service (AI PLATFORM 03) for pre-populated eligible schemes.
â€¢	Golden Record / 360Â° Profile for baseline data (AI PLATFORM 01/02).
â€¢	Scheme Management for master data and rule metadata.
â€¢	Profile & Consent for reading attributes, consent, and optional updates.
â€¢	Application / Workflow for â€œApply nowâ€ and â€œTrack applicationâ€ deep links.
RBAC
â€¢	Authenticated citizens only (Jan Aadhaar / Raj SSO).
â€¢	Family head can switch â€œmember contextâ€ (dropdown) where allowed by policy and consent.
â€¢	CSC/assisted operators act on behalf of citizen with explicit consent and strong audit trail.
Error Handling & Messaging
â€¢	Incomplete/invalid answers: inline messages and disabled â€œNext/Finishâ€ until corrected.
â€¢	AI/Auto-ID down: â€œPersonalised scoring is temporarily unavailable. Showing rule-based matches only.â€ with retry option.
â€¢	No eligible schemes: friendly state with options to explore all schemes and update profile.
â€¢	Stale data: â€œResults last updated on [date] â€“ Refresh with latest profile and rules?â€ banner.
Accessibility & Usability
â€¢	Multi-step, mobile-first questionnaire with clear progress, simple questions, and plain-language explanations; aligned to GovStack â€œcheck eligibilityâ€ pattern.
â€¢	High-contrast scheme cards and tags (â€œEligibleâ€, â€œSuggestedâ€, â€œLast checkâ€) understandable without color.
â€¢	Full keyboard navigation, ARIA labels on questions, results, and â€œWhy shown?â€; WCAG 2.1 AA target.
Testability
â€¢	Branching logic unit tests, including rule changes between runs.
â€¢	E2E tests: questionnaire â†’ eligibility run creation â†’ schemes render below with correct statuses and explanations.
â€¢	Performance tests: debounced AI calls under load, acceptable response times for recalculation.
â€¢	Accessibility and localization tests across all supported languages. 

IV.	Module 3: Consent and Application
Screen 8: Consent & Clarifications
Screen ID: CIT-CONSENT-8
User Type: Citizen
Purpose: Unified workspace for scheme consent submission and application clarification responses, with clear progress tracking, document handling, and notifications for both workflows.
Functional Description
â€¢	Single Unified Layout (Collapsible Sections, No Tabs):
Consent & Clarifications
Progress: 2/5 Consents â€¢ 1/3 Clarifications

â–¼ 1. Scheme Consents (2 Pending)
â€¢	Scheme X: [ ] Share family data [Mandatory]
â€¢	Scheme Y: [ ] Share income docs [OTP Required]
      [Privacy Policy] [Download PDF] [Submit All]

â–¼ 2. Application Clarifications (1 Pending)
â€¢	App #1234: Address proof needed by Dec 30
      [Text response] [Upload docs] [Previous submissions]
      [Save Draft] [Submit Response]

[Digital Signature / OTP] [Submit All Changes]

â€¢	Section 1: Scheme Consents
o	List of pending consents grouped by scheme
o	Toggle/checkbox per data type (personal, family, documents) with mandatory flags
o	Plain-language explanations + privacy policy links
o	Digital signature/OTP verification for confirmation
â€¢	Section 2: Application Clarifications
o	List of pending clarifications by application ID with deadlines
o	Text response fields + multi-file upload (with size/format validation)
o	Previous submissions history + status timeline
o	Draft save + final submission
â€¢	Unified Features:
o	Overall progress bar across both sections
o	Bulk "Submit All" with final OTP/digital signature
o	Download/print individual or combined PDFs
o	Real-time notifications on submission
Business Rules & Validations
â€¢	Consent Rules:
o	Mandatory consents block application submission
o	Time-stamped, versioned records per DPDP standards
o	Policy changes trigger re-consent
o	Withdrawal shows impact preview
â€¢	Clarification Rules:
o	Only for eligible/pending applications
o	Deadline tracking with overdue escalation
o	Mandatory fields validated before submission
o	Audit trail for all responses/documents
â€¢	Unified Rules:
o	Submit All: All mandatory consents + complete clarifications â†’ Single OTP
o	Partial Save: Draft state preserved across sessions
o	Bulk Download: Combined PDF with all consents + clarifications
Data Inputs
Source	Data Elements
Scheme Service	Consent requirements, legal texts, scheme metadata
Application Service	Pending clarifications, deadlines, previous responses
User Input	Consent toggles, text responses, document uploads
Profile Service	Consent history, application status
Data Outputs
Target	Events/Actions
Consent Service	Consent records (timestamped, versioned)
Application Service	Clarification responses + documents
Notification Service	Submission confirmations + status updates
Document Service	Uploaded files with metadata
Audit Log	All actions with timestamps + IP
Integration Points
 
Core Services:
1.	Consent Management - Versioned consent records
2.	Application Processing - Clarification handling
3.	Document Management - File upload/validation
4.	Digital Signature/OTP - Final verification
5.	Notification Service - Confirmations + status updates
RBAC & Access Control
Role	Access Level
Citizen	Own consents + own applications
Family Head	Family consents (where consented)
CSC Operator	Assisted mode with explicit consent logging
Error Handling & Messaging
Scenario	Message	Action
Incomplete Consent	"Scheme X requires family data consent"	Highlight mandatory toggle
Missing Clarification	"Address proof needed by Dec 30"	Focus text field + upload
File Validation	"Max 5MB, PDF/JPG only"	Clear upload + retry
OTP Fail	"Invalid OTP. Resend? [60s]"	Countdown timer
Submit Fail	"Consent #2 recorded. Submit remaining?"	Partial success + continue
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA progress: "2 of 5 consents complete"
o	Screen reader: "Checkbox: Share income documents for PM Awas [Mandatory]"
o	Keyboard: Tab through sections â†’ toggles â†’ buttons
o	High-contrast mandatory indicators + focus outlines
â€¢	Responsive Design:
o	<480px: Vertical accordion (Consents â†’ Clarifications)
o	>768px: Side-by-side sections + bulk actions
â€¢	Mobile Gestures:
o	Swipe to collapse/expand sections
o	Long press document â†’ Quick preview
Testability Requirements
â€¢	Functional E2E Tests:
o	Consent toggle â†’ Consent service records â†’ Status updates
o	File upload â†’ Validation â†’ Document service â†’ Clarification status
o	Bulk Submit â†’ Single OTP â†’ All services updated
o	Draft save â†’ Session timeout â†’ Resume â†’ Submit
o	Withdrawal â†’ Impact preview â†’ Consent revoked
â€¢	Edge Cases:
o	Policy change â†’ Existing consents flagged for re-consent
o	Overdue clarification â†’ Escalation warning + deadline
o	Partial submit â†’ Correct partial records + remaining items
o	Multi-device â†’ Draft sync across sessions

Screen 9: Applications and History
Screen ID: CIT-APP-9
User Type: Citizen
Purpose: Unified dashboard showing all current applications (real-time tracking) and past applications (historical record) with filtering, document access, notifications, and action linksâ€”all in one screen. 

Functional Description
Single Unified Layout (Smart Grouping, No Tabs):

Applications Hub
[Filters â–¼]
Scheme    Date 
Status   Range
[Apply Filters]	[Notify â–¼]
Email SMS

[Save Prefs]	[Progress: 2 Active â€¢ 5 Past]
ğŸ“ACTIVE (2) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ PAST (5)
App#1234 PM Awas â”€â”€â–¸â–¸â–¸â–¸â”€ Under Review â”€â”€ ğŸ“„Download â”€â”€ ğŸ””On
App#5678 Pension â”€â”€â–¸â–¸â–¸â”€â”€â”€ Approved â”€â”€â”€â”€â”€ ğŸ“„Receipt â”€â”€â”€ ğŸ””On

Click app â†’ Detailed timeline + documents + actions        


â€¢	Smart Dual-Section Layout:
o	ACTIVE Section: Current applications (Submitted â†’ Approved/Rejected) with live progress bars, real-time status updates
o	PAST Section: Completed applications (Approved, Rejected, Withdrawn, Completed) with final outcomes
o	Unified Filters: Apply to both sections simultaneously (scheme, date range, status)
o	Expandable Rows: Click any app â†’ Inline detailed timeline + documents + actions
â€¢	Key Features:
o	Real-time status updates via WebSocket (active apps only)
o	Document status badges + one-click downloads
o	Notification preferences (email/SMS per app or global)
o	Appeal/Re-apply links where applicable
Business Rules & Validations
â€¢	Unified Application Rules:
o	ACTIVE: Status IN (Submitted, Under Review, Pending Docs, Approved, Rejected)
o	PAST:   Status IN (Approved, Rejected, Withdrawn, Completed) 
o	Filters: Cross-section (e.g., "PM Awas + Rejected" shows in both if matches)
o	Sorting: Active first â†’ Submission date DESC â†’ Status priority
â€¢	Data Refresh:
o	Active apps: Real-time WebSocket + 30s fallback poll
o	Past apps: Cached + hourly refresh
o	Immutable audit trail for all historical records
Data Inputs
API Endpoint	Section	Data Elements
GET /applications/active/{citizen_id}?filters={json}	Active	Live status, progress, documents
GET /applications/history/{citizen_id}?filters={json}	Past	Final outcomes, decision notes
WebSocket /app-status/{app_id}	Active	Real-time status changes
GET /notifications/preferences/{citizen_id}	Both	Email/SMS settings per app
Data Outputs
Target	Events/Actions
Notification Service	Status change alerts + preference updates
Document Service	Receipt/decision letter downloads
Application Service	Appeal/re-apply workflow triggers
Audit Log	All views, downloads, filter usage
Integration Points
 
â€¢	Core Services:
1.	Application Management - Status + history APIs
2.	Document Management - Receipts + decision letters
3.	Notification Service - Email/SMS preferences + alerts
4.	WebSocket - Real-time active app updates
5.	Audit Service - Immutable interaction logs
RBAC & Access Control
Role	Access
Citizen	Own applications only
Family Head	Linked family apps (consent-gated)
CSC Operator	Assisted view with full audit
Error Handling & Messaging
Scenario	Message	Action
No Apps	"No applications match your filters. Submit your first?"	CTA to scheme catalog
Status Delay	"Last update 15min ago â€“ Refreshing..."	Auto-retry + manual refresh
Doc Unavailable	"Receipt generating â€“ try in 5min"	Retry link + timer
API Error	"Loading backup data from cache"	Graceful degradation
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live: "App#1234 status changed to Approved"
o	Screen reader: "Active â€¢ PM Awas Yojana â€¢ App#1234 â€¢ Under Review [85% progress]"
o	Keyboard: Arrow keys navigate apps, Enter expands details
â€¢	Visual Indicators:
o	â–¸â–¸â–¸â–¸ Progress bars (Active only)
o	ğŸ“„ Document badges (Ready / Generating)
o	ğŸ”” Notification status (On / Off)
â€¢	Responsive:
o	<480px: Stacked sections + swipe to expand
o	>768px: Side-by-side Active + Past
Testability Requirements
â€¢	Functional E2E Tests:
o	âœ“ Filter "PM Awas + Rejected" â†’ Shows matching apps in both sections
o	âœ“ WebSocket status change â†’ Active section updates live
o	âœ“ Expand app â†’ Timeline + documents load inline
o	âœ“ Notification toggle â†’ Preference saved + next status sends alert
o	âœ“ Download receipt â†’ Correct PDF for app ID
â€¢	Edge Cases:
o	âœ“ No active apps â†’ Clean empty state + CTA
o	âœ“ No past apps â†’ "Your application history will appear here"
o	âœ“ Filter clears all â†’ Reset to default view
o	âœ“ Offline â†’ Cached data with sync indicator

V.	Module 4: Dcuments

Screen 10: Document Center
Screen ID: CIT-DOC-10
User Type: Citizen
Purpose: Unified document management hub combining application-required uploads, personal library, Raj-e-Sign verification, and e-Vault integrationâ€”all controlled by a single filter bar with real-time status sync across all document types.
Functional Description
â€¢	Single Unified Layout (Horizontal Workflow + Unified Filters, No Tabs):
Document Center
[Source â–¼]
All Local
eVault Signed
[Apply Filters] 	[Type â–¼]         
All ID Income
Receipts
[Clear] [Search]	[Status â–¼] [Progress]
All Valid Expired
Pending [14/20 reday]
ğŸ“ REQ'D â”€â”€â”€ ğŸ“‹ LIBRARY â”€â”€â”€ ğŸ”’ SIGNED â”€â”€â”€ ğŸ—„ï¸ E-VAULT â”€â”€â”€ ğŸ“¥ DL

App#1234  â”‚ Aadhaar [âœ…]   â”‚ Pension [âœ… Raj-eSign] â”‚ PAN [Valid] â”‚ Income [Ready]
 â€¢ Addr [â†‘] â”‚ Income [âš Exp] â”‚ PM Awas [âš 12/25]        â”‚ Aadhaar [â†‘]  â”‚ Ration [Ready]

 [Drag here]  â”‚ [Bulk â†“]        â”‚ [Verify][Preview]     â”‚ [Sync Now]     â”‚ [ZIP â†“]
â€¢	Horizontal 5-Pane Workflow:
1.	ğŸ“ REQ'D: Application-specific uploads (3/5 needed for App#1234)
2.	ğŸ“‹ LIBRARY: Personal certificates/receipts (status + expiry alerts)
3.	ğŸ”’ SIGNED: Raj-e-Sign docs with live validation
4.	ğŸ—„ï¸ E-VAULT: External vault sync + upload
5.	ğŸ“¥ DL: Ready-to-download files (single/bulk ZIP)
â€¢	Unified Filter Magic:
o	"Income + Expired" â†’ Shows income certs across ALL 5 panes
o	"eVault only" â†’ Entire screen = eVault content
o	"App#1234" â†’ REQ'D pane prominent + related docs highlighted
Business Rules & Validations
â€¢	Unified Document Lifecycle:
o	Upload â†’ Processing â†’ LIBRARY â†’ SIGNED (if applicable) â†’ eVAULT â†’ DOWNLOAD
o	Filters: Cross-pane (Source+Type+Status combinations)
o	Drag-drop: Auto-targets correct pane (App Req / Library / eVault)
o	Status Sync: All panes update simultaneously via WebSocket

â€¢	Smart Validation Matrix:
Source	Size	Formats	Mandatory
Required	10MB	PDF/JPG/DOC	App-specific
Signed	5MB	PDF (Raj-eSign)	Signature validation
eVault	15MB	PDF/JPG/PNG	External API limits
Data Inputs
API Endpoint	Source	Data Elements
GET /documents/required/{app_id}	REQ'D	Pending uploads + app requirements
GET /documents/library/{citizen_id}	LIBRARY	Personal certs + expiry metadata
GET /raj-e-sign/documents/{citizen_id}	SIGNED	Signature status + CA details
GET /evault/documents/{citizen_id}?token={}	E-VAULT	Vault contents + sync status
WebSocket /documents/{doc_id}/status	ALL	Real-time processing across sources
Data Outputs
Target	Events/Actions
Document Service	Uploads + metadata + source tagging
Raj-e-Sign	Signature verification requests
e-Vault API	Sync + new uploads
Application Service	Required doc completion
Export Service	Single PDF / Bulk ZIP
Audit Log	All cross-source interactions
Integration Points
 
â€¢	Core Services:
1.	Document Hub - Unified storage + metadata
2.	Raj-e-Sign API - Signature verification
3.	e-Vault API - External sync
4.	Application Service - Req completion
5.	WebSocket - Cross-source status
RBAC & Access Control
Role	REQ'D	LIBRARY	SIGNED	E-VAULT
Citizen	Own apps	Own docs	Own sigs	Own vault
Family Head	Consent apps	Shared docs	Shared sigs	Consent vault
Error Handling & Messaging
Scenario	Message	Action
Sig Invalid	"Pension tampered â€“ download original"	[Original] [Report]
eVault Sync Fail	"Vault sync failed â€“ retry"	[Manual Sync]
Upload Rejected	"10MB limit â€“ compress file"	Compression tips
No Matches	"No docs match filters"	Broaden suggestions
Bulk Limit	"Max 100 docs/ZIP"	Clear + retry
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live: "Income cert: Signature verified [Raj-e-Sign]"
o	Screen reader: "eVault â€¢ PAN Card â€¢ Valid [Sync complete]"
o	Keyboard: Tab through panes â†’ Drag equivalent â†’ Actions
o	Unified search: Single field finds across ALL sources

â€¢	Visual Source Indicators:
ğŸ“ App Required | ğŸ“‹ Personal Library | ğŸ”’ Raj-e-Sign | ğŸ—„ï¸ e-Vault | ğŸ“¥ Download Ready
Status badges + progress bars + expiry warnings across all
â€¢	Responsive:
o	<480px: Vertical panes + swipe navigation
o	768px: 3-pane (Req/Library | Signed/eVault | Download)
o	>1024px: Full 5-pane horizontal workflow
Testability Requirements
â€¢	Functional E2E Tests:
o	"Income + Expired" â†’ Shows across Library/Signed/eVault panes
o	Drag file â†’ Auto-targets Required pane â†’ Status syncs to Library
o	eVault sync â†’ New docs appear in Library + Download panes
o	Bulk ZIP â†’ Mixed sources (Signed + eVault + Local) 
o	Filter "App#1234" â†’ Required prominent + related docs highlighted

â€¢	Cross-Source Validation:
o	Upload â†’ Required â†’ Library â†’ Signed verification â†’ eVault sync â†’ Download 
o	Source filter "eVault only" â†’ Entire screen = eVault content
o	Real-time status â†’ All relevant panes update simultaneously

â€¢	Performance:
o	<300ms filter across 1K+ docs (4 sources)
o	<1s eVault sync + display
o	Bulk ZIP <5s (100 mixed docs)


VI.	Module 5: Benefits and Entitlement
Screen 11: Benefits and Entitlements
Screen ID: CIT-BEN-11
User Type: Citizen
Purpose: Unified dashboard showing current benefits, family breakdowns, historical trends, and AI forecasts in one screen with cross-cutting filters for time, family scope, and statusâ€”complete benefit lifecycle visibility.
Functional Description
â€¢	Single Unified Layout (Horizontal Timeline Flow, No Tabs):
Benefits Overview
[Time â–¼]
All, Active
Past, Forecast 
 [Apply Filters]	[Family â–¼] 
Me, Family
All, Members
[Clear]	[Status â–¼] [Export]
Active, Pending, Expired

[â‚¹45K/mo | â‚¹2.3L Total]
ğŸ“Š CURRENT (â‚¹45K/mo) â”€â”€ ğŸ“ˆ FORECAST â”€â”€ ğŸ“‹ HISTORY (â‚¹2.3L Total)
Pension â‚¹12K [Active]
Health â‚¹5K [Pending]
[Family: 5 members]
[Renew Alert âš ]	2026: +â‚¹22K [92%]
New: PM Awas [85%]
[Age 60 â†’ Senior]	2024: â‚¹1.1L [Pension]
2023: â‚¹1.2L [Housing]
[Export CSV/PDF]
â€¢	Horizontal Timeline Sections:
1.	ğŸ“Š CURRENT: Active + pending benefits (CIT-BEN-18/21) with family allocation
2.	ğŸ“ˆ FORECAST: AI predictions + new eligibility (CIT-BEN-23) with confidence bars
3.	ğŸ“‹ HISTORY: Past payments + trends (CIT-BEN-22) with export options
â€¢	Unified Cross-Filters Apply To ALL Sections:
o	Time: All / Active / Past / Forecast â†’ Shows relevant section prominently
o	Family: Me / Family / All Members â†’ Proportional breakdowns
o	Status: Active / Pending / Expired â†’ Status badges across timeline
Business Rules & Validations
â€¢	Unified Data Rules:
o	Filters: Cross-section (e.g., "Family + Forecast" = family projections)
o	Current: Only active/valid benefits (â‰¥80% confidence)
o	Forecast: AI predictions with confidence thresholds
o	History: Immutable audit trail, retention-compliant
o	Family: Consent-gated aggregation (mask non-consented members)
â€¢	Smart Aggregations:
Filter Combo	Display Logic
Me + Current	Personal active benefits
Family + Forecast	Aggregated family projections
All + History	Complete payment timeline
Data Inputs
API Endpoint	Section	Data Elements
GET /benefits/current/{gr_id}?family_scope={scope}	Current	Active schemes + family allocation
GET /benefits/forecast/{gr_id}?time_horizon={horizon}	Forecast	AI predictions + confidence + scenarios
GET /benefits/history/{gr_id}?date_range={range}	History	Payment records + trends
WebSocket /benefit-updates/{gr_id}	All	Real-time status + expiry alerts
Data Outputs
Target	Events/Actions
Analytics	Filter usage, section views, export downloads
Notification	Expiry alerts, new forecast opportunities
Export Service	CSV/PDF reports (filtered data)
Audit Log	All interactions with timestamps
Integration Points
 
â€¢	Core Services:
1.	Benefits Management - Current + status APIs
2.	AI/ML Forecasting - Future entitlements + confidence
3.	Payment History - Immutable transaction records
4.	Family Graph - Consent-gated aggregation
5.	Notification Service - Expiry + opportunity alerts
RBAC & Access Control
Filter	Access Control
Me	Full personal data
Family	Consent-gated family aggregation
All Members	Masked non-consented + admin override
Error Handling & Messaging
Scenario	Message	Action
No Current	"No active benefits. Check eligibility?"	Link to CIT-SCHEME-10
Forecast Unavailable	"Predictions updating... Showing trends"	Fallback to history
Family Consent Missing	"2/5 members consented"	Consent nudge
Stale Data	"Last sync 2h ago â€“ Refreshing"	Auto-retry button
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live: "Pension status changed to Active"
o	Screen reader: "Current â€¢ Pension â‚¹12K/mo [Active, Family: 3 members]"
o	Keyboard: Arrow keys navigate timeline sections
o	Colorblind: Status icons + text (ğŸ”´ Active / ğŸŸ¡ Pending / âš« Expired)
â€¢	Visual Timeline:
o	Status badges + progress bars + confidence bars + amount indicators
o	Hover: Detailed breakdowns (family allocation, eligibility drivers)
â€¢	Responsive:
o	<768px: Vertical timeline (Current â†’ Forecast â†’ History)
o	>1024px: Horizontal 3-section layout
Testability Requirements
â€¢	Functional E2E Tests:
o	"Family + Forecast" â†’ Aggregated projections across 5 members
o	Time filter "2024" â†’ History + Current (2024 active) + Forecast (2024)
o	Status "Expired" â†’ Shows across all time periods
o	Export â†’ CSV contains filtered data only
o	WebSocket update â†’ All relevant sections refresh
â€¢	AI/ML Validation:
o	Forecast confidence bars match model outputs
o	Family aggregation respects consent masking
o	Cross-filter consistency (no data loss)
â€¢	Performance:
o	<2s initial load (all 3 sections)
o	Filter changes <500ms across timeline
o	100 concurrent family aggregations

Screen 12: Payments & Ledger
Screen ID: CIT-BEN-12
User Type: Citizen
Purpose: Unified payment tracking dashboard combining DBT transaction details with month/year ledger views, featuring cross-filters, real-time updates, export capabilities, and failure alerts.
Functional Description
â€¢	Single Unified Layout (Dual-Pane Transaction Timeline, No Tabs):
Payments & Ledger
[Scheme â–¼]
All, Pension   
Health, PM Awas  	[Time â–¼] 
Month, Year   
Success, Failed, Pending	[Status â–¼] [Export]
[Apply Filters]  
[â‚¹1.2L Total | 15 Txns]
ğŸ“Š TRANSACTIONS (15) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ“ˆ LEDGER SUMMARY
#TXN001 Pension â‚¹12K [âœ… Dec'25] â”€â”€ 2025: â‚¹1.2L [â–°â–°â–±â–±]
#TXN002 Health â‚¹5K  [âš  Pending]  â”€â”€ 2024: â‚¹1.1L [â–°â–°â–°â–±]
#TXN003 PM Awas â‚¹20K[âŒ Failed]   â”€â”€ 2023: â‚¹0.9L [â–°â–°â–°â–°]
[Download Receipt]                 â”‚ [Export CSV/PDF]
â€¢	Dual-Pane Design:
o	ğŸ“Š TRANSACTIONS Pane (Left): DBT payments list with scheme, amount, status, txn ID, date
o	ğŸ“ˆ LEDGER Pane (Right): Month/year summary with progress bars + totals
o	Unified Filters: Apply across both panes (scheme, time range, status)
o	Expandable Rows: Click txn â†’ Full details + receipt + linked application
o	Smart Alerts: Failed/pending payments highlighted with action guidance
â€¢	Key Features:
o	Real-time DBT status updates (WebSocket)
o	Bulk export filtered transactions + ledger
o	Drill-down: Txn â†’ Ledger period â†’ Benefit details
o	Failure resolution: "Failed? Check bank / Resubmit claim"
Business Rules & Validation
â€¢	Unified Payment Rules:
o	TRANSACTIONS: Individual DBT records (real-time)
o	LEDGER: Monthly/Yearly aggregates from same source
o	Filters: Cross-pane (e.g., "Pension + Failed" = matching txns + ledger impact)
Status: âœ… Success / âš  Pending / âŒ Failed / ğŸ“± Reversed
â€¢	Data Sync:
o	DBT transactions: Real-time from bank APIs
o	Ledger: Aggregated view of transactions + daily reconciliation
o	Audit trail: Immutable txn history + export verification
Data Inputs
API Endpoint	Pane	Data Elements
GET /payments/transactions/{citizen_id}?filters={json}	Transactions	Txn ID, scheme, amount, status, date
GET /payments/ledger/{citizen_id}?time_range={range}	Ledger	Monthly/yearly totals + breakdowns
WebSocket /payment-status/{txn_id}	Both	Real-time status changes
GET /bank/dbt-status/{account}	Transactions	Latest bank confirmation
Data Outputs
Target	Events/Actions
Export Service	CSV/PDF (filtered txns + ledger)
Notification	Failed payment alerts + resolution guidance
Application Service	Resubmit claim / Appeal links
Audit Log	All views, filters, downloads
Integration Points
 
â€¢	Core Services:
1.	Payment Management - Txn + ledger APIs
2.	Bank DBT APIs - Real-time status
3.	Benefits Service - Scheme linkages
4.	Export Service - Reports generation
5.	Notification - Failure alerts
RBAC & Access Control
Role	Access
Citizen	Own bank account + scheme payments
Family Head	Aggregated family ledger (consent-gated)
Error Handling & Messaging
Scenario	Message	Action
Payment Failed	"â‚¹20K PM Awas failed. Check bank?"	[Check Bank] [Resubmit Claim]
No Transactions	"No payments match filters"	Suggest popular schemes
Bank Sync Delay	"Last bank sync 2h ago"	Manual refresh
Ledger Mismatch	"1 txn reconciling â€“ refresh in 5min"	Auto-retry timer
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live: "TXN001 status: Success"
o	Screen reader: "Transaction â€¢ Pension â€¢ â‚¹12K â€¢ Success [Dec 2025]"
o	Keyboard: Arrow through txns, Enter expands details
o	Status icons + text: âœ… Success / âš  Pending / âŒ Failed
â€¢	Visual Indicators:
o	Progress bars: Monthly completion (â–°â–°â–±â–± = 50%)
o	Status badges with actions
o	Amount highlighting: Positive / Failed / Pending
â€¢	Responsive:
o	<480px: Stacked panes + swipe navigation
o	>768px: Side-by-side Transactions + Ledger
Testability Requirements
â€¢	Functional E2E Tests:
o	Filter "Pension + 2025" â†’ Matching txns + ledger summary
o	WebSocket status change â†’ Both panes update instantly
o	Export â†’ CSV contains filtered data + correct aggregates
o	Failed payment â†’ Click â†’ Resolution workflow
o	Drill-down txn â†’ Shows linked application + benefit details
â€¢	Data Validation:
o	Ledger totals = Sum of filtered transactions 
o	Bank sync â†’ Status updates propagate correctly
o	Multi-scheme filter â†’ Correct cross-scheme aggregation
â€¢	Performance:
o	<1s filter response across 1K+ transactions
o	Real-time updates <100ms latency
o	Export <5s for 500 txns

VII.	Module 6: Service Delivery 
Screen 13: Service Catalog
Screen ID: CIT-SERV-13
User Type: Citizen
Purpose: Provide citizens with a browsable catalog of 25+ government services available for online access.
Functional Description:
â€¢	Display categorized list of government services with icons and brief descriptions.
â€¢	Enable search and filtering by department, service type, and eligibility.
â€¢	Show service status indicators (active, maintenance, upcoming).
â€¢	Allow navigation to service request forms and additional information.
â€¢	Highlight popular and recently added services.
â€¢	Provide links to service policies, user guides, and FAQs.
â€¢	Support multi-language display and accessibility features.
Business Rules & Validations:
â€¢	Only services relevant to citizen location and profile are shown.
â€¢	Regularly update catalog with new and retired services.
â€¢	Access controls based on eligibility and user roles.
Data Inputs:
â€¢	Service Management APIs with service metadata.
â€¢	User profile and location data.
Data Outputs:
â€¢	User navigation and selection events logged.
Integration Points:
â€¢	Service Management Microservices.
â€¢	Profile and Consent Services.
RBAC:
â€¢	Authenticated citizens.
Error Handling & Messaging:
â€¢	Inform users when services are temporarily unavailable.
â€¢	Provide fallback lists or support contacts.
Accessibility & Usability:
â€¢	Responsive grid/list layouts adaptable to device sizes.
â€¢	Accessible input controls and navigation.
Testability:
â€¢	Validate service metadata accuracy and updates.
â€¢	Test UI responsiveness and filtering.
â€¢	Accessibility compliance.
Screen 14: Service Request
Screen ID: CIT-SERV-14
User Type: Citizen
Purpose: Enable citizens to submit requests for various government services with required details and document uploads.
Functional Description:
â€¢	Display dynamic service request forms tailored per service with required fields and validations.
â€¢	Support multi-step forms with progress indicators.
â€¢	Provide contextual help, field-level instructions, and tooltips.
â€¢	Allow upload of supporting documents with validation on size and formats.
â€¢	Preview filled form before submission.
â€¢	Save draft option for completing later.
â€¢	Submit button triggers backend workflow initiation and assigns application ID.
â€¢	Confirmation message with reference number and next steps.
Business Rules & Validations:
â€¢	Validate mandatory fields before allowing submission.
â€¢	Enforce business rules specific to each service (eligibility, duplicate requests, etc.).
â€¢	Support electronic signatures or OTP verification as needed.
â€¢	Auto-save form data periodically.
Data Inputs:
â€¢	Service request metadata and templates.
â€¢	User profile data for pre-filling.
â€¢	Uploaded documents.
Data Outputs:
â€¢	Submitted service requests with attachments.
â€¢	Notifications and tracking information.
Integration Points:
â€¢	Service Request Processing Microservices.
â€¢	Document Management System.
â€¢	Authentication and Authorization Services.
RBAC:
â€¢	Authenticated citizens with appropriate permissions.
Error Handling & Messaging:
â€¢	Inform users of validation errors and guide corrections.
â€¢	Handle submission failures and retries.
Accessibility & Usability:
â€¢	Responsive and accessible multi-step forms.
â€¢	Support keyboard navigation and screen readers.
Testability:
â€¢	Validate form field validations and workflow triggers.
â€¢	Test document upload and draft save functionality.
â€¢	Accessibility checks.
Screen 15: Service Status & Feedback
Screen ID: CIT-SERV-15
User Type: Citizen
Purpose: Unified service request dashboard combining real-time status tracking with embedded feedback collection for completed requests, featuring progress timelines, notifications, and ratings in one screen.
Functional Description
â€¢	Single Unified Layout (Smart Status Groupings, No Tabs):
Service Status & Feedback
[Service â–¼]
All, Ration
License, Water
[Apply Filters]	[Status â–¼]
Active, Complete
Feedback Due
[Clear]	[Progress: 3 Active]
2 Feedback Pending

ğŸ“ ACTIVE (3) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ âœ… COMPLETED (5) â”€ ğŸ“ FEEDBACK
#REQ001 Ration [â–°â–°â–±] â”€â”€ In Processing â”€â”€ ğŸ“„Ack â”€â”€ ğŸ””On
#REQ002 License [â–°â–°â–°â–±] â”€â”€ Document Review â”€â”€ ğŸ“„Ack â”€â”€ ğŸ””On
#REQ003 Water [âœ… Complete] â”€â”€ â­â­â­â­â­ "Great service" â”€ ğŸ“„Letter
#REQ004 Ration [âœ… Complete] â”€â”€ â­â­â­ "Slow but ok" â”€â”€ ğŸ“„Letter
â€¢	Smart Three-Section Layout:
o	ğŸ“ ACTIVE: In-progress requests with live progress bars + documents
o	âœ… COMPLETED: Recently finished requests with embedded feedback controls
o	ğŸ“ FEEDBACK DUE: Completed requests awaiting rating/comments
o	Unified Filters: Apply across all sections (service type, status)
o	Expandable Rows: Click â†’ Timeline + documents + feedback form (for completed)
â€¢	Key Features:
o	Real-time status updates (WebSocket)
o	Inline feedback stars + comments for completed requests
o	Bulk feedback submission for multiple services
o	Document downloads + notification toggles
Business Rules & Validations
â€¢	Unified Service Rules:
o	ACTIVE: Status IN (Received, Processing, Document Review)
o	COMPLETED: Status = Complete + feedback window open (30 days)
o	FEEDBACK DUE: Completed + no feedback submitted
o	Filters: Cross-section across all request states
o	Feedback: 1 per request ID, moderate inappropriate content
â€¢	Smart Feedback Triggers:
o	Status â†’ Complete â†’ Auto-move to Feedback Due (7 days)
o	Feedback Submitted â†’ Move to Completed archive
o	Duplicate Feedback â†’ Prevented by request ID
Data Inputs
API Endpoint	Section	Data Elements
GET /service-requests/{citizen_id}?status_filter={json}	All	Request details, status, timeline
WebSocket /service-status/{req_id}	Active	Real-time progress updates
POST /feedback/{req_id}	Completed	Ratings, comments, attachments
GET /feedback/pending/{citizen_id}	Feedback Due	Eligible completed requests
Data Outputs
Target	Events/Actions
Service Management	Status updates, document requests
Feedback Service	Ratings + comments + moderation
Notification Service	Status changes + feedback receipts
Document Service	Acknowledgment/decision downloads
Audit Log	All interactions + feedback analytics
Integration Points
 
â€¢	Core Services:
1.	Service Request Management - Status + timeline APIs
2.	Feedback Management - Ratings + moderation
3.	Document Management - Acknowledgments + letters
4.	Notification Service - Status + feedback alerts
5.	WebSocket - Real-time updates
RBAC & Access Control
Role	Access Level
Citizen	Own requests + feedback
Anonymous	Submit feedback only (completed requests)
Error Handling & Messaging
Scenario	Message	Action
No Requests	"No service requests. Need help?"	Service catalog CTA
Status Delay	"Last update 10min ago"	Refresh button
Feedback Duplicate	"Already rated this service"	Show existing rating
Content Moderation	"Comment flagged â€“ review guidelines"	Edit/resubmit
Doc Unavailable	"Letter generating â€“ retry later"	Timer + retry
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live: "Request #001: Document Review [60%]"
o	Screen reader: "Active â€¢ Ration Card â€¢ Request #001 â€¢ In Processing"
o	Keyboard: Tab through sections â†’ Enter expands â†’ Stars feedback
o	Feedback: 5-star ARIA slider + text area
â€¢	Visual Status System:
o	â–°â–°â–± Progress bars (Active only)
o	â­â­â­â­â­ Inline ratings (Completed)
o	âœ… Complete / ğŸ“ Feedback Due / ğŸ“ Active
â€¢	Responsive:
o	<480px: Vertical sections + swipe to expand
o	>768px: Horizontal 3-section layout
Testability Requirements
â€¢	Functional E2E Tests:
o	Filter "Ration + Complete" â†’ Move to Feedback Due â†’ Submit rating
o	WebSocket status â†’ Active section updates live
o	Bulk feedback â†’ Multiple ratings submitted
o	Expand request â†’ Timeline + documents + feedback form
o	Moderation â†’ Flagged comment blocked + edit option
â€¢	Edge Cases:
o	Feedback window expires â†’ Request archives to Completed
o	Anonymous feedback â†’ No user linkage
o	Document download â†’ Correct file for request ID
o	Offline â†’ Cached status + sync on reconnect

VIII.	Module 7: Settings
Screen 16: Notification Settings
Screen ID: CIT-USER-16
User Type: Citizen
Purpose: Enable citizens to customize their notification preferences for alerts, reminders, and messages.
Functional Description:
â€¢	Display options to opt-in or opt-out of different notification types:
o	Scheme updates and deadlines
o	Application status changes
o	Payment and benefit alerts
o	Security events and login alerts
o	Feedback and survey invitations
â€¢	Support notification channels selection: email, SMS, in-app push notifications.
â€¢	Allow setting quiet hours or do-not-disturb periods.
â€¢	Provide test notifications to verify settings.
â€¢	Show notification history summary with delivery status
Business Rules & Validations:
â€¢	Follow user consents and regulatory guidelines for communication preferences.
â€¢	Ensure critical alerts cannot be disabled if mandated by policy.
â€¢	Validate contact details before enabling channels.
Data Inputs:
â€¢	Current notification subscriptions and user contacts.
â€¢	Notification events metadata.
Data Outputs:
â€¢	Updated preferences stored in Notification Management system.
â€¢	Logs of sent and received notifications.
Integration Points:
â€¢	Notification Delivery Systems.
â€¢	User Profile and Consent Services.
RBAC:
â€¢	Authenticated citizens managing their own notification preferences.
Error Handling & Messaging:
â€¢	Inform users of invalid contact details or delivery failures.
â€¢	Provide confirmation on changes saved.
Accessibility & Usability:
â€¢	Accessible controls with keyboard and screen reader support.
â€¢	Responsive design for all devices.
Testability:
â€¢	Validate preference changes and channel selections.
â€¢	Test delivery and logging of notifications.
â€¢	Accessibility compliance.

Screen 17: Opt-Out Schemes Screen
Screen ID: CIT-USER-17
User Type: Citizen
Purpose: Allow citizens to select schemes/programs to opt-out, review existing participation, and manage scheme exit preferences.
Functional Description:
â€¢	List all active schemes/programs for which the citizen is enrolled
â€¢	Display scheme descriptions, benefits, opt-out implications
â€¢	Allow opt-out selection with confirmation and impact summary
â€¢	Record reasons for opt-out (optional)
â€¢	Show history of scheme participation and opt-outs
Business Rules & Validations:
â€¢	Require confirmation and impact acknowledgement for opt-out actions
â€¢	Prevent opt-out from mandatory schemes
â€¢	Log all opt-out actions with timestamp/audit details
Data Inputs:
â€¢	Active scheme participation records
Data Outputs:
â€¢	Updated scheme status, opt-out audit records
Integration Points:
â€¢	Scheme Management Systems
â€¢	Notification Delivery (for opt-out confirmations)
RBAC:
Authenticated citizens for their own scheme management
Error Handling & Messaging:
â€¢	Confirm opt-out actions, display errors for ineligible schemes
Testability:
â€¢	Validate opt-out flow, audit trail generation, history display


Screen 18: Account & Security Settings
Screen ID: CIT-USER-18
User Type: Citizen
Purpose: Unified account management dashboard combining profile updates, communication preferences, data consents, accessibility, password/MFA controls, session management, and security monitoring in one comprehensive settings hub.
Functional Description
â€¢	Single Unified Layout (Collapsible Sections, No Tabs):

Account & Security Settings
[Progress: 8/12 Settings Complete]

â–¼ 1. Profile & Contact
         Name â€¢ Mobile â€¢ Email â€¢ Language [Hindi] â€¢ Accessibility

â–¼ 2. Notifications & Consent
         Email âœ“ SMS âœ“ App Alerts [Quiet: 10PM-6AM] â€¢ Data Sharing

â–¼ 3. Password & MFA
         Password Strength: Strong [ğŸ”’] â€¢ MFA: OTP+Biometric [On]  

â–¼ 4. Sessions & Security
         Active: 2 Devices â€¢ Last Login: Today 10:23AM [India]
         Suspicious: None [View History]                           

[Save All Changes] [Export Data] [Deactivate Account] 
â€¢	Four Collapsible Sections (Logical Grouping):
1.	Profile & Contact: Name, mobile, email, language, accessibility
2.	Notifications & Consent: Channels, quiet hours, data sharing opt-ins
3.	Password & MFA: Password change, MFA methods (OTP/biometric)
4.	Sessions & Security: Active sessions, login history, suspicious activity
â€¢	Unified Features:
o	Overall completion progress bar
o	Bulk "Save All Changes" with final OTP confirmation
o	Real-time validation + strength meters
o	Export personal data + account deactivation
Business Rules & Validations
â€¢	Unified Settings Rules:
o	Profile: Email/OTP validation on change
o	Security: Password strength â‰¥ 12 chars + MFA mandatory
o	Notifications: At least 1 channel active
o	Consent: Granular opt-in/out with impact preview
o	Sessions: Critical changes â†’ All sessions invalidated
â€¢	Smart Validation:
Section	Validation	Confirmation
Profile	Email format + OTP	Email link
Password	Strength meter + match	OTP
MFA	Method selection	Test code
Sessions	Device trust toggle	Biometric
Data Inputs
API Endpoint	Section	Data Elements
GET /user/profile/{citizen_id}?full=true	Profile	Name, contact, preferences
GET /user/security/{citizen_id}	Security	Password status, MFA, sessions
GET /notifications/preferences/{citizen_id}	Notifications	Channels, quiet hours, consents
WebSocket /security-events/{citizen_id}	Sessions	Live session + suspicious activity
Data Outputs
Target	Events/Actions
Profile Service	Updated contact + preferences
Auth Service	Password + MFA changes
Notification Service	Channel + consent updates
Audit Log	All changes + session invalidations
Export Service	Personal data portability package
Integration Points
 
â€¢	Core Services:
1.	User Profile - Contact + preferences
2.	Authentication - Password + MFA
3.	Notification - Channels + consents
4.	Session Management - Devices + security events
5.	Accessibility APIs - UI preferences
RBAC & Access Control
Role	Access Level
Citizen	Full own account control
Family Head	Limited family profile view
Error Handling & Messaging
Scenario	Message	Action
Weak Password	"Password too weak: Add numbers/symbols"	Strength meter + examples
MFA Fail	"OTP incorrect. Resend? [60s]"	Countdown + retry
Email Invalid	"Invalid email format"	Inline correction
Session Risk	"New device detected â€“ verify?"	Step-up MFA
Consent Conflict	"Opting out hides eligibility"	Impact preview
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live: "Password strength: Strong"
o	Screen reader: "Section 2 â€¢ Notifications â€¢ Email: On [Toggle]"
o	Keyboard: Tab through sections â†’ Enter expands â†’ Save
o	Real-time: Strength meters + validation messages
â€¢	Visual Progress:
o	âœ… Complete â€¢ âš ï¸ Needs Attention â€¢ â³ Saving
o	Collapsible sections with expand/collapse icons
â€¢	Responsive:
o	<480px: Vertical accordion sections
o	>768px: 2-column (Settings + Preview/Security info)
Testability Requirements
â€¢	Functional E2E Tests:
o	Password change â†’ Strength validation â†’ OTP confirm â†’ All sessions logged out
o	MFA toggle â†’ Test code sent â†’ Enable/disable works
o	Notification quiet hours â†’ No alerts during DND
o	Bulk Save â†’ All valid changes applied + audit logged
o	Export Data â†’ GDPR-compliant package generated
â€¢	Security Tests:
o	Weak password â†’ Rejected with guidance
o	Session invalidation â†’ All devices logged out
o	Suspicious login â†’ Step-up authentication
o	Consent change â†’ Impact reflected in other screens
â€¢	Performance:
o	<200ms real-time validation across all fields
o	Bulk save <2s for 12 settings
o	WebSocket security events <100ms

IX.	Module 8: Help and Support
Screen 19: Help 
Screen ID: CIT-HELP-19
User Type: Citizen / Guest
Purpose: Unified support center combining self-service FAQs, knowledge base search, contact options, announcements, and embedded ticket creation/trackingâ€”all in one comprehensive help experience.
Functional Description
â€¢	Single Unified Layout (Smart Contextual Sections, No Tabs):
Help & Support Hub
[Search Help]
"Ration card"   

[Search]	[Category â–¼] 
All Schemes  
Portal Issues 
Contact     	[My Tickets: 2 Active] 
#TKT001 [Processing]
#TKT002 [Complete]
[Create New Ticket]
ğŸ” TOP HELP ARTICLES â”€â”€ ğŸ“¢ ANNOUNCEMENTS â”€â”€ ğŸ“ CONTACT
â€¢	Ration Card Status [5min read]
â€¢	Scheme Application [Step-by-step]
â€¢	PM Awas Eligibility [Most viewed]
[+] CREATE TICKET
Subject â–¼ â€¢ Description â€¢ Category â–¼ â€¢ Attachments [Drag]
 [Submit Ticket]
â€¢	Smart Unified Sections:
1.	ğŸ” Search + Top Articles: Instant FAQ search + most relevant articles
2.	ğŸ“¢ Announcements: Latest service updates + advisories
3.	ğŸ“ Contact: Helpline, chat, callback options
4.	[+] CREATE TICKET: Embedded multi-step form (collapses by default)
5.	My Tickets: Personalized tracking (authenticated users only)
â€¢	Progressive Enhancement:
o	Guest: Search + Articles + Contact + Basic ticket form
o	Citizen: + My Tickets + Auto-populate + Personalized recs
Business Rules & Validations
â€¢	Unified Support Rules:
o	Guest Access: FAQs + Contact + Basic ticket (no history)
o	Citizen Access: + My Tickets + Auto-fill + Ticket tracking
o	Ticket Form: Mandatory subject + description + category
o	Search: Real-time + AI ranking + synonyms
o	Moderation: Ticket content + attachments scanned

â€¢	Smart Routing:
o	Category â†’ Auto-assign to department/agent queue
o	Urgency â†’ Priority escalation + SLAs
o	Attachments â†’ Virus scan + size limits (10MB)
Data Inputs
API Endpoint	Section	Data Elements
GET /help/search?q={query}&category={cat}	Search	Ranked articles + snippets
GET /announcements/active	Announcements	Latest updates + advisories
GET /tickets/{citizen_id}?status={filter}	My Tickets	Active + history + status
POST /tickets	Create Ticket	New ticket + attachments
Data Outputs
 
Target	Events/Actions
Ticketing System	New tickets + status updates
Notification Service	Ticket confirmations + status changes
Analytics	Search queries, article views, ticket conversions
Audit Log	All ticket interactions + downloads
Integration Points

â€¢	Core Services:
1.	Customer Support System - Tickets + knowledge base
2.	AI Search/NLP - Smart FAQ matching
3.	Notification Service - Status updates
4.	Chatbot - Self-service resolution
5.	Document Management - Attachments + receipts
RBAC & Access Control
Access Level	Features
Guest	Search + Articles + Contact + Basic ticket
Citizen	+ My Tickets + Auto-fill + History + Attachments
Error Handling & Messaging
Scenario	Message	Action
No Search Results	"No matches. Try: [Ration status]?"	Suggested queries
Ticket Validation	"Description required (min 20 chars)"	Inline focus
Attachment Fail	"Max 10MB, PDF/JPG only"	Clear + retry
Ticket Limit	"Max 5 open tickets. Close one first?"	Show open tickets
Service Down	"Support temporarily unavailable"	Contact alternatives
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live: "Ticket #001: Processing [45%]"
o	Screen reader: "Top article â€¢ Ration Card Status â€¢ 5min read [View]"
o	Keyboard: Tab â†’ Search â†’ Categories â†’ Ticket form â†’ Submit
o	Multi-language: Auto-detect + manual selector

â€¢	Visual Hierarchy:
o	ğŸ” Prominent search bar (60% width)
o	ğŸ“¢ Announcement banners (color-coded)
o	ğŸ“ Contact cards (helpline/chat prominent)
o	[+] Collapsible ticket form (guest-friendly)
â€¢	Responsive:
o	<480px: Vertical stack + swipe categories
o	>768px: 3-column (Search + Content + Tickets)

Testability Requirements
â€¢	Functional E2E Tests:
o	Guest search â†’ Articles â†’ Basic ticket â†’ Confirmation
o	Citizen login â†’ Auto-fill ticket â†’ My Tickets appears
o	Category filter â†’ Correct articles + auto-select in ticket
o	Attachment upload â†’ Virus scan â†’ Ticket submission
o	Status WebSocket â†’ My Tickets live update
â€¢	Progressive Enhancement:
o	Guest â†’ Login â†’ Ticket form auto-populates
o	Search "ration" â†’ Top 3 articles + ticket category pre-select
o	No results â†’ Suggested queries + contact escalation

Screen 20: Tickets & Status
Screen ID: CIT-HELP-20
User Type: Citizen
Purpose: Unified ticket management dashboard combining citizen ticket tracking, status updates, follow-up communication, and departmental routing visibilityâ€”all in one transparent workflow.
Functional Description
â€¢	Single Unified Layout (Smart Ticket Timeline, No Tabs):
Support Tickets & Status
[Status â–¼]
All Active
Resolved Closed
[Apply Filters]	[Service â–¼]
All Schemes
Portal Ration
[Clear]	[My Tickets: 3 Active]
#TKT001 [Processing]
#TKT002 [Resolved]

#TKT001 Ration Card [Processing â†’ Benefits Dept]
ğŸ“… Submitted: Dec 29 â”‚ ğŸ‘¤ Agent: Priya S â”‚ â³ ETA: Jan 2 

Timeline: Submitted â†’ Routed â†’ In Progress [Agent Reply]
Reply: "Doc received, verifying..." [ğŸ“ Attachment]
 [Add Comment] [Download Docs] [Rate Resolution]
[+] NEW TICKET â€¢ Subject â–¼ â€¢ Description â€¢ Attachments [Drag]
â€¢	Unified Ticket Timeline Design:
o	Ticket List: Filtered by status/service with departmental assignment visible
o	Expandable Timeline: Click ticket â†’ Full history (Submitted â†’ Routed â†’ Resolved)
o	Communication Panel: Agent replies + citizen follow-ups + attachments
o	Actions: Comment, download docs, rate resolution (post-close)
o	[+] NEW TICKET: Embedded form at bottom (collapses by default)
â€¢	Key Features:
o	Real-time departmental routing visibility
o	Bidirectional communication (citizen â†” agent)
o	Automated status notifications + escalation
o	Resolution feedback + audit transparency
Business Rules & Validations
â€¢	Unified Ticket Rules:
o	Citizen View: Own tickets + agent communications
o	Routing: Category/keywords â†’ Departmental queue
o	Status Flow: Submitted â†’ Routed â†’ In Progress â†’ Resolved â†’ Closed
o	Feedback: Post-resolution only, 1 per ticket
o	Escalation: Auto-alert after SLA breach (48h)

â€¢	Smart Routing + Escalation:
o	Category: "Ration Card" â†’ Benefits Dept â†’ Agent Priya S
o	Urgency: High â†’ Manager CC + SMS alert
o	SLA Breach: 48h â†’ Supervisor escalation
Data Inputs
API Endpoint	Section	Data Elements
GET /tickets/{citizen_id}?filters={json}	Ticket List	Status, dept, agent, timeline
WebSocket /ticket-updates/{ticket_id}	Timeline	Real-time status + comments
POST /tickets/{ticket_id}/comment	Communication	Follow-up replies + attachments
POST /tickets	New Ticket	Subject, category, description
Data Outputs
Target	Events/Actions
Ticketing System	Status updates + comments + attachments
Notification Service	Status changes + escalations + agent replies
Department Dashboards	New tickets + SLA alerts
Feedback Service	Post-resolution ratings
Audit Log	Complete ticket lifecycle
Integration Points
 
â€¢	Core Services:
1.	Ticketing/CRM - Core ticket lifecycle
2.	Departmental Dashboards - Agent assignment
3.	Notification Service - Multi-channel alerts
4.	Feedback Service - Resolution ratings
5.	Audit Trail - Immutable history
RBAC & Access Control
Role	Citizen View	Agent View
Citizen	Own tickets + communication	N/A
Agent	Assigned tickets	Full access
Supervisor	Team tickets + escalations	Dashboard
Error Handling & Messaging
Scenario	Message	Action
No Tickets	"No open tickets. Need help?"	New ticket CTA
Routing Delay	"Ticket assigned within 2h"	Live status
Comment Moderation	"Held for review"	Edit/resubmit
SLA Breach	"Escalated to supervisor"	Auto-notification
Closed Feedback	"Rated âœ“ Thanks for feedback"	Archive
Accessibility & Usability
â€¢	WCAG 2.1 AA:
o	ARIA live: "Ticket #001: Agent replied [New comment]"
o	Screen reader: "Timeline â€¢ Processing â†’ Agent: Priya S [Reply available]"
o	Keyboard: Tab â†’ Expand ticket â†’ Reply form â†’ Submit
o	Multi-language: Auto-detect + manual override

â€¢	Visual Timeline:
o	ğŸ“… Submitted â†’ ğŸš€ Routed â†’ ğŸ‘¤ In Progress â†’ âœ… Resolved â†’ â­ Feedback
o	Agent avatars + reply bubbles + attachment previews

â€¢	Responsive:
o	<480px: Vertical timeline + swipe tickets
o	>768px: 2-column (List + Timeline)
Testability Requirements
â€¢	Functional E2E Tests:
o	Submit ticket â†’ Auto-route â†’ Dept notification â†’ Status update
o	Agent reply â†’ Citizen notification â†’ Timeline update
o	SLA breach â†’ Supervisor escalation
o	Resolution â†’ Feedback form â†’ Rating submission
o	Filter "Active + Ration" â†’ Correct tickets displayed

â€¢	Workflow Validation:
o	Category â†’ Correct dept assignment
o	Comment â†’ Bidirectional notification
o	Attachment â†’ Virus scan + storage
o	Escalation â†’ Multi-level alerts
